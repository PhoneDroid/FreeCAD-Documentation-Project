<languages/>

{{Docnav
|[[Manual:Creating FEM analyses/ru|Создание анализа МКЭ]]
|[[Manual:A gentle introduction/ru|Простое введение]]
|[[Manual:Introduction/ru|Руководство: Начало]]
|IconC=Crystal Clear manual.png
}}

{{Manual:TOC}}

[https://ru.wikipedia.org/wiki/Рендеринг Рендеринг (рус.)][https://en.wikipedia.org/wiki/Rendering_%28computer_graphics%29 (англ.)] - это процесс создания высокореалистичных изображений из 3D-моделей путём моделирования освещения, материалов и текстур. Он широко используется в таких отраслях, как кино, видеоигры и дизайн продукции, где фотореалистичные визуализации необходимы для демонстрации проектов или концепций. Хотя рендеринг позволяет создавать изображения, очень похожие на реальные фотографии, он требует специальных инструментов для управления освещением, отражениями и тенями.

FreeCAD, однако, ориентирован в первую очередь на техническое моделирование, а не на художественные или визуальные эффекты. Его основная задача - создание точных 3D-моделей для инженерных работ, проектирования и производства. В результате FreeCAD не обладает продвинутыми встроенными инструментами рендеринга (визуализации) для фотореализма.

Однако FreeCAD предлагает [https://github.com/FreeCAD/FreeCAD-render?tab=readme-ov-file верстак Render], который можно установить в качестве дополнения (он не входит в число верстаков по умолчанию). Этот верстак позволяет пользователям соединять модели FreeCAD с внешними движками рендеринга, такими как Blender Cycles, LuxCoreRender или POV-Ray. С помощью верстака Render пользователи могут использовать свои модели и мощные внешние инструменты для рендеринга своих проектов с реалистичным освещением и текстурами. Такой подход позволяет FreeCAD оставаться лёгким и сфокусированным, но всё же предоставляет гибкость для фотореалистичного рендеринга, когда это необходимо.

Верстак Render во FreeCAD интегрируется с несколькими внешними рендерами, включая [https://en.wikipedia.org/wiki/LuxRender LuxCorerender], [https://en.wikipedia.org/wiki/POV-Ray POV-Ray] и [https://www.cycles-renderer.org/ Blender Cycles]. LuxCoreRender - это современный рендер, основанный на физике, который обеспечивает фотореалистичные изображения, но требует значительных вычислительных мощностей, особенно для больших сцен. POV-Ray, хотя и более старый, остаётся надёжным движком [https://en.wikipedia.org/wiki/Ray_tracing_%28graphics%29 трассировки лучей] и менее ресурсоёмким, хотя ему и не хватает реалистичности более новых технологий. Blender Cycles, доступный через FreeCAD при установленном Blender, предлагает мощное решение для рендеринга с поддержкой GPU и CPU, позволяющее эффективно создавать высококачественные изображения. Однако он требует отдельной установки Blender и экспорта моделей в Blender для рендеринга. Каждый рендер предлагает свои преимущества в зависимости от баланса реалистичности, производительности и возможностей системы. У каждого варианта есть свои сильные и слабые стороны, в зависимости от типа изображения, которое вы хотите визуализировать. Лучший способ узнать это - посмотреть примеры на сайте каждого движка.

<span id="Installation"></span>
=== Установка ===

Прежде чем использовать верстак Render во FreeCAD, вам нужно будет установить как сам верстак (как показано в [https://wiki.freecad.org/Manual:Installing/ru#Installing_additional_content этом разделе]), так и одно из внешних приложений для рендеринга, например LuxCoreRender, POV-Ray или Blender Cycles (при установленном Blender). Установка этих приложений обычно не вызывает затруднений, поскольку они предоставляют установщики для различных платформ и часто включены в репозитории программного обеспечения в дистрибутивах Linux. После установки этих инструментов вы сможете подключить FreeCAD к этим рендерам для создания высококачественных изображений.

После установки POV-Ray или LuxCorerender нам нужно указать путь к их главному исполняемому файлу в настройках FreeCAD. Обычно это требуется только в Windows и Mac. В Linux FreeCAD сам выберет его из стандартного расположения. Расположение исполняемых файлов povray или luxrender можно найти, поискав в системе файлы с именами povray (или povray.exe в Windows) и luxrender (или luxrender.exe в Windows). На вкладке '''Параметры''' вы можете указать этот путь, а также задать некоторые из параметров.

[[File:FreeCAD_Render_Preferences.png]]

<span id="Rendering_with_PovRay"></span>
=== Визуализация с помощью PovRay ===

Мы будем использовать стол, который мы моделировали в главе [[Manual:Traditional modeling, the CSG way/ru|традиционное моделирование]], для создания рендеров с помощью PovRay. 

<div class="mw-translate-fuzzy">
* Начнём с загрузки файла table.FCStd, который был создан ранее или загружен по ссылке внизу этой главы.
* Нажмём маленькую стрелку вниз возле кнопки [[Image:Raytrace_New.svg|16px]] [[Raytracing_New/ru|New Povray project]], выбрав шаблон '''RadiosityNormal'''.
* Появится сообщение, предупреждающее что текущий трёхмерный вид не в перспективной проекции, и визуализация будет выглядеть иначе. Скорректируйте это, выбрав '''Нет''', затем выбрав в меню '''Вид->Перспективная проекция''' и выбрав шаблон RadiosityNormal снова.
* Вы можете так же попробовать другие шаблоны после создания нового проекта, просто редактируя параметр '''Template'''.
* Новый проект теперь создан:
</div>

[[File:FreeCAD_Render_Project.png]]

<div class="mw-translate-fuzzy">
* Новый проект получает точку зрения трёхмерного вида в момент нажатия кнопки. Мы можем в любой момент изменить вид и обновить сохранённую в проекте Povray точку зрения, нажав кнопку [[Image:Raytrace_ResetCamera.svg|16px]] [[Raytracing_ResetCamera/ru|Сброс камеры]].
* Верстак Raytracing работает так же, как и [[Drawing_Workbench/ru|Верстак Drawing]]: как только папка проекта создана, мы должны добавить в него '''Views''' нашего проекта. Мы можем сделать это выбором всех объектов, составляющих стол, и нажав кнопку [[Image:Raytrace_NewPartSegment.svg|16px]] [[Raytracing_InsertPart/ru|Вставить деталь]]:
</div>

[[File:FreeCAD_Render_Bodies.png]]

<div class="mw-translate-fuzzy">
* Вид получает значения цвета и прозрачности из оригинальных частей, но вы можете, при желании, изменить это в параметрах каждого вида.
* Теперь мы готовы создать нашу первую визуализацию Povray. Нажмём кнопку [[Image:Raytrace_Render.svg|16px]] [[Raytracing_Render/ru|Визуализировать]].
* Примечание для пользователей Windows: при получении (в Povray) предупреждения о том, что «I/O restrictions prohibit write access ...» 
** откройте Povray 
** выберите «"Options > Script I/O Restrictions"» и убедитесь, что для него установлено значение «No Restrictions» 
** повторить рендеринг
* У Вас запросят имя и путь к файлу с изображением в формате .png, который создаст Povray.
* Теперь Povray запустится и вычислит изображение.
* Когда это будет готово, для закрытия окна Povray кликните изображение. Полученное изображение будет загружено в FreeCAD:
</div>

[[File:FreeCAD_Render_Result.png]]

<div class="mw-translate-fuzzy">
* Визуализация с помощью Luxrender работает примерно так же. Мы можем оставить наш файл открытым и создать новый проект Luxrender в том же файле, или перезагрузить его, чтобы начать с нуля.
* Нажмём маленькую стрелку вниз около кнопки [[Image:Raytrace_Lux.svg|16px]] [[Raytracing_Lux/ru|New Luxrender project]] и выберем шаблон '''LuxOutdoor'''.
* Выберем все компоненты стола. Если у Вас в документе имеется проект Povray, выделите так же сам проект Luxrender, чтобы вид, созданный на следующем шаге, не выбрал по ошибке неправильный проект.
* Нажмите кнопку [[Image:Raytrace_NewPartSegment.svg|16px]] [[Raytracing_InsertPart/ru|Вставить деталь]].
* Выделите проект Luxrender, и нажмите кнопку  [[Image:Raytrace_Render.svg|16px]] [[Raytracing_Render/ru|Render]].
* Luxrender работает не так, как Povray. Когда Вы запустите визуализатор, приложение Luxrender откроется и немедленно начнёт рендеринг:
</div>

'''Загрузки'''

* Модель стола: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/table.FCStd
* Файл, полученный в ходе упражнения: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/render.FCStd

'''Читать далее'''

<div class="mw-translate-fuzzy">
* [[Raytracing_Workbench/ru|Верстак Raytracing (рендеринга)]]
* [http://www.blender.org Blender]
* [http://www.povray.org POV-Ray]
* [https://ru.wikipedia.org/wiki/LuxRender Luxrender]
</div>


{{Docnav
|[[Manual:Creating FEM analyses/ru|Создание анализа МКЭ]]
|[[Manual:A gentle introduction/ru|Простое введение]]
|[[Manual:Introduction/ru|Руководство: Начало]]
|IconC=Crystal Clear manual.png
}}

[[Category:Tutorials{{#translation:}}]]
{{Raytracing Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}