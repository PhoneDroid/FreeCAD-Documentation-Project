<languages/>
{{UnfinishedDocu{{#translation:}}}}

{{TutorialInfo/ru
|Topic= Transient FEM analysis
|Level= 
|Time=
|Author=
|FCVersion=
|Files=
}}

== Background ==

<span id="Creating_the_model"></span>
== Создание модели ==

<div class="mw-translate-fuzzy">
# Начав с пустого проекта FreeCAD, мы построим нашу биметаллическую полосу в [[Image:Workbench_Part.svg|24px]] [[Part_Workbench/ru|верстаке Part]]
# Нарисуйте  [[File:Part_Box.svg|24px]] [[Part Box/ru|кубическое]] твердое тело и переименуйте его в {{incode|aluminium}}.
# Дайте ему размеры 100 x 10 x 2 мм (длина x ширина x высота).
# Создайте второе [[Part Box/ru|кубическое]] твердое 'стальное' тело с такими же размерами
# Сместите эту деталь на 2 мм по оси Z (через {{MenuCommand|Placement → Position → z}}).
# Выберите оба твердых тела (с помощью клавиши {{KEY|Shift}} + щелчок мышью) и создайте из них [[Image:Part_BooleanFragments.svg|24px]] [[Part BooleanFragments/ru|Boolean Fragments]]
# Переименуйте эти логические фрагменты в {{incode|биметаллическую полосу}}
# В [[Property editor/ru|Редакторе свойств]] мы меняем режим с {{PropertyView|Standard}} на {{PropertyView|CompSolid}}. (Это также должно работать с использованием команды [[Part_Compound/ru|Part Compound]] вместо [[Image:Part_BooleanFragments.svg|24px]] [[Part BooleanFragments/ru|Boolean Fragments]], однако с более сложными пересекающимися формами позже могут возникнуть проблемы с анализом МКЭ. Так что лучше сначала привыкнуть к использованию Boolean Fragments.) Результат должен выглядеть следующим образом:
</div>

[[File:Transient FEM Bimetal (1).JPG|700px]]

<span id="Preparing_and_running_the_FEM_analysis"></span>
== Подготовка и выполнение расчёта по МКЭ ==

<span id="Assigning_the_materials"></span>
=== Назначение материалов ===

В верстаке FEM мы создаем новый [[File:FEM_Analysis.svg|20px]] анализ и добавляем новый [[File:FEM_MaterialSolid.svg|20px]] материал в анализ. В появившемся окне задач выбираем один из предустановленных алюминиевых сплавов. В 'geometry reference selector' мы назначаем нижней полосе нашей модели материал, устанавливая режим выбора 'solid', щелкая 'add'  и выбирая грань или край нижней полосы. В представлении списка должно появиться 'BooleanFragments:Solid1'.

[[File:Transient FEM Bimetal (2).JPG|700px]]

Мы закрываем окно задачи и повторяем шаги для создания второго материала 'Steel' (карта материала «CalculiX-Steel») и назначаем его верхней полосе ('BooleanFragments:Solid2').

<span id="Creating_the_mesh"></span>
=== Создание сетки ===

Поскольку конечно-элементному анализу, очевидно, нужны элементы для работы, мы должны разделить нашу модель на так называемую сетку. Верстак FEM предлагает два инструмента построения сетки: Netgen и GMSH. Здесь мы перейдем к Netgen: с выбранным объектом Boolean Fragments биметаллической полосы мы щелкаем по значку [[File:FEM_MeshNetgenFromShape.svg|20px]] Netgen в верстаке FEM. В появившемся окне задач нам надо сделать различные выделения, начиная сверху:

*  Max. size - это максимальный размер (в миллиметрах) элемента. Чем меньше максимальный размер элемента, тем больше элементов мы получаем - обычно результат будет более точным, но с резким увеличением времени вычислений. Мы устанавливаем его на 10.
* Second order означает, что в каждом элементе будут созданы дополнительные узлы. Это увеличивает время вычислений, но обычно это хороший выбор, если речь идет о сгибании, как в нашем анализе. Мы оставляем это отмеченным.
* Fineness: Выберите, насколько точно модель должна быть разрезана на элементы. Для более сложных моделей с кривизной и пересечениями мы можем увеличить количество элементов в этих областях, чтобы получить лучшие результаты (конечно, за счет большего количества вычислительного времени). Опытные пользователи также могут установить для него значение User-defined и установить следующие параметры. Для нашей простой прямоугольной модели выбор тонкости не имеет большого значения, мы оставляем его на умеренном уровне.
* Optimize: некоторая постобработка после построения сетки. Мы оставляем это отмеченным.

Щелчок по 'Apply' запускает создание сетки, и - время зависит от вашего компьютера - на нашей модели появляется каркас. Генератор сетки должен был создать около 4000 узлов.

[[File:Transient FEM Bimetal (3).JPG|700px]]

<span id="Assigning_boundary_conditions"></span>
=== Задание граничных условий ===

Анализ МКЭ сейчас ни к чему не приведет, потому что с нашей моделью еще ничего не происходит. Итак, давайте добавим немного температуры: используйте [[File:FEM_ConstraintInitialTemperature.svg|20px]] начальную температуру из верстака FEM и установите температуру на 300 K. Здесь нельзя выбрать никакие части модели, так как этот параметр применяется ко всей модели. 

Затем мы используем [[File:FEM_ConstraintTemperature.svg|20px]] температуру, действующую на грань. Мы выделяем две грани на одном конце полосы (Ctrl + левая клавиша мыши) и нажимаем 'Add' в окне задачи. В списке должны появиться две грани объекта Boolean Fragments и маленькие значки температуры на модели. Выставляем температуру 400 К и закрываем окно задач. В начале анализа выбранные грани получат мгновенное повышение температуры от 300 до 400 К. Тепло будет проводиться по металлическим полосам и вызывать изгиб полосы.

[[File:Transient FEM Bimetal (4).JPG|700px]]

Прежде чем мы сможем запустить анализ, необходимо установить дополнительное граничное условие: анализ может выполняться только в том случае, если наша модель зафиксирована где-то в пространстве. С помощью [[File:FEM_ConstraintFixed.svg|20px]] мы выбираем те же две грани, что и для 400 K выше, и добавляем их в список. На модели появятся красные полосы, визуализирующие, что эти грани зафиксированы в пространстве и не могут перемещаться во время анализа.

[[File:Transient FEM Bimetal (5).JPG|700px]]

<span id="Running_the_analysis"></span>
=== Запуск анализа ===

Анализ должен уже содержать объект решателя '[[FEM_SolverCalculixCxxtools/ru|CalculiXccx Tools]]'. Если нет, мы добавляем его, используя значок решателя [[File:FEM_SolverCalculixCxxtools.svg|20px]] на панели инструментов. (Имеются два идентичных значка, экспериментальный решатель также должен работать.) У объекта решателя есть список свойств ниже в левой части окна. Здесь мы выбираем следующие варианты (те, которые не упоминались, оставляем без изменений):

* Analysis Type:: мы хотим провести термомеханический анализ. Другие варианты могут быть только статическими (без температурных эффектов), частотными (колебания) или только для проверки правильности модели.
* Thermo Mech Steady State: Устойчивое состояние означает, что решающая программа вернет один единственный результат, когда физика достигнет равновесия. Мы НЕ хотим этого делать, мы хотели бы получить множественные результаты с временным разрешением (переходный анализ). Так что установите значение false.
* Time end: мы хотели бы, чтобы наш анализ остановился через 60 секунд (то есть время моделирования, а не реальное время).

[[File:Transient FEM Bimetal (6).JPG|700px]]

После двойного щелчка мышью на объекте решателя, мы проверяем, что выбрано 'Thermo mechanical', и запускаем 'Write .inp file'. Обычно это занимает несколько секунд (или намного больше для более крупных моделей) и возвращает сообщение 'Write completed' в поле ниже. Теперь мы запускаем расчет с помощью 'Run CalculiX'. Через некоторое время должны появиться два последних сообщения 'CalculiX done without error!' и 'Loading result sets...'. Когда таймер внизу остановился, мы закрываем окно задачи. (На более крупных моделях и/или более медленных компьютерах FreeCAD может зависнуть, и мы не увидим работающего таймера. Но будьте терпеливы, в большинстве случаев CalculiX по-прежнему работает в фоновом режиме и в конечном итоге даст результаты.)
 
Теперь у нас должно быть несколько [[File:FEM_ResultShow.svg|20px]] объектов результатов расчёта по МКЭ в списке. Двойным щелчком мы можем открыть любую из них и визуализировать рассчитанные температуры, смещения и напряжения. Мы можем визуализировать изгиб, отметив «Показать» в разделе «Смещение». Поскольку абсолютные смещения невелики, мы используем «Множитель», чтобы преувеличить значения.

[[File:Transient FEM Bimetal (7).JPG|700px]]

В FreeCAD мы можем использовать [[File:FEM_PostPipelineFromResult.svg|20px]] [[FEM_PostPipelineFromResult/ru|pipelines]] для последующей обработки результатов. Как вариант, мы можем экспортировать результаты в формат VTK и импортировать их в специальные постпроцессоры, такие как ParaView. Доступен [[Macro_export_transient_FEM_results/ru|макрос]] для экспорта нескольких результатов (как в этом анализе).

<span id="Downloads"></span>
==Загрузки==

* [https://drive.google.com/file/d/1m3RiJ-JM7QSJ6YDhZnafHIbyL92V6sYU/view?usp=sharing Файл примера без результатов (200 kB)]

* [https://drive.google.com/file/d/157aIdVpIyfpVW9WxL-ReGz0FIsQebH_q/view?usp=sharing Файл примера с результатом (10 MB)]

<span id="Other_Example"></span>
==Другие примеры==

* [https://forum.freecadweb.org/viewtopic.php?f=18&t=43040&start=10#p366664 Аналитический пример с биметаллом]. Аналитический пример, представленный на форуме, включен в примеры FreeCAD FEM. Он может быть запущен Python с помощью
 from femexamples.thermomech_bimetall import setup
 setup()


{{FEM Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}