<languages/>
{{TutorialInfo/ru
|Topic= Импорт из STL или OBJ
|Level= Начинающий
|Time= 30 минут
|Author=r-frank
|FCVersion=0.16.6703
|Files=
}}

<span id="Introduction"></span>
== Введение == 

В этом руководстве мы рассмотрим, как импортировать файлы STL/OBJ в FreeCAD. Поскольку формат сеток STL/OBJ является безразмерным, FreeCAD при импорте будет считать, что в модели используются единицы измерения '''миллиметр'''.
Если это не так, то вам придётся масштабировать модель либо в приложении, в котором она была создана (перед экспортом), либо в FreeCAD после импорта и преобразования в твёрдое тело.

== Образец детали ==
Для этого урока вы можете использовать свой собственный STL-файл или создать демонстрационный файл, выполнив следующие действия:
*Откройте FreeCAD
*Создайте новый документ
*Перейдите в рабочий стол сетки
*Вставьте тор, нажав на {{KEY|Полигональные сетки}} → {{KEY|[[Image:Mesh_BuildRegularSolid.svg|32px]] Правильное геометрическое тело...}}, задав такие настройки, как:
**Радиус 1: 10 мм
**Радиус 2: 2 мм
**Дискретизация: 50
*Нажмите на кнопку {{KEY|Создать}}, а затем {{KEY|Закрыть}}
*Сохраните файл нажав {{KEY|Файл}} → {{KEY|Сохранить}}, чтобы получить FreeCAD-файл, содержащий сетчатый объект
<br />
Для импорта файла STL или OBJ в FreeCAD создайте новый документ FreeCAD и выберите {{KEY|Файл}} → {{KEY|Импорт}} из верхнего меню.

== Очистка и исправление STL/OBJ-файла для подготовки к импорту ==
В принципе, FreeCAD может импортировать любой STL/OBJ-файл. Но наша цель - получить твёрдое тело, которое можно измерять и изменять (добавлять накладки/карманы...). Для успешного преобразования сетки в твёрдое тело нам нужно убедиться, что сетка «водонепроницаема» (не имеет отверстий) или не имеет других ошибок.
<br />
Цель FreeCAD не в том, чтобы быть хорошим редактором сеток, он предназначен для твёрдотельного моделирования. FreeCAD имеет некоторые возможности для работы с сетками в верстаках Сетки (Mesh) и OpenSCAD (некоторые операции требуют установки и конфигурирования OpenSCAD в настройках FreeCAD).
<br />
Некоторые пользователи предпочитают использовать сторонние программы для очистки и исправления сеток, например
*[http://www.netfabb.com/downloadcenter.php?basic=1 Netfabb Basic] (Windows/Linux/Mac) - бесплатно для личного использования (доступно автоматическое восстановление сетки)
*[http://meshlab.sourceforge.net/ Meshlab] (Windows/Linux/Mac) - с открытым исходным кодом.
<br />
В этом уроке мы воспользуемся верстаком Сетки (Mesh) в FreeCAD для очистки/исправления/проверки сетки нашего файла-образца.

===Автоматическое тестирование и исправление===
*Откройте FreeCAD и образец файла FreeCAD, содержащий сетчатый объект
*Перейдите на верстак Сетки
*Убедитесь, что объект сетки выбран в дереве проекта
*Выберите {{KEY|Полигональные сетки}} → {{KEY|Анализ}} → {{KEY|Оценить и восстановить полигональную сетку}} из верхнего меню
* Убедитесь, что в выпадающем меню в правом верхнем углу отображается название сетчатого объекта
*Для последнего пункта в списке «Использовать все указанные выше тесты» нажмите на {{KEY|анализ}}
*Текст рядом с галочками изменится, чтобы отразить результаты различных тестов
*Если были обнаружены ошибки, соответствующие флажки будут отмечены, и вы сможете выбрать {{KEY|Восстановить}}
*Выберите {{KEY|закрыть}}, чтобы закрыть меню

===Согласование нормалей===
Harmonizing normals of a mesh object can be done by
*Выбираем объект сетки в дереве проекта
*Выберите {{KEY|Полигональные сетки}}  → {{KEY|[[Image:Mesh_HarmonizeNormals.svg|32px]] Согласовать нормали}} из верхнего меню.
Совет: Выберите объект сетки в дереве проекта. Перейдите на вкладку ''Вид'' и в свойствах измените ''Освещение (Lighting)'' с ''Двух сторон (Two Side)'' на ''Одну сторону (One Side)''. Так вы сможете определить треугольники с перевёрнутыми нормалями.
Если нормаль д.б. направлена внутрь сетки, треугольник будет показан чёрным.

===Закрытие отверстий===
Вы также можете вручную закрыть отверстия в сетчатом объекте, для этого
*Выделите объект сетки в дереве проекта
* Выберите {{KEY|Полигональные Сетки}} → {{KEY|Заполнить отверстия...}} из верхнего меню
*Укажите максимальное количество граней для заполнения (по умолчанию 3)
*Поскольку STL и OBJ - это сетки, состоящие из треугольников, заданного по умолчанию количества рёбер должно быть достаточно
<br />
Другой способ вручную закрыть отверстия в сетчатом объекте заключается в следующем
*Выбираем объект сетки в дереве проекта
*Выбираем {{KEY|Полигональные сетки}} → {{KEY|[[Image:Mesh_FillInteractiveHole.svg|32px]] Закрыть отверстие}} в верхнем меню
*Выделяем один из краёв отверстия в сетке в 3D-виде
*Щёлкаем правой кнопкой мыши в 3D-виде и выбираем {{KEY|Выйти из режима заполнения отверстий}}, чтобы выйти из команды

== Conversion mesh to solid ==
*Switch to [[Image:Workbench_Part.svg|24px]] [[Part_Workbench|Part Workbench]]
*Make sure your mesh object is selected in the tree view, otherwise select it
*Choose {{KEY|Part}}  →  {{KEY|[[Image:Part_ShapeFromMesh.svg|32px]] Create shape from mesh ...}} from top menu
*Specify tolerance for sewing shape (0,1 is default)
*A new object will be created in the tree view (with blue shape icon, instead of green mesh icon)
*Select the newly created object in the tree view
*Choose {{KEY|Part}}  →  {{KEY|Create a copy}}  →  {{KEY|[[Image:Part_RefineShape.svg|32px]] Refine shape}} from the top menu
*A new object will be created in the tree view and the previous one will be made invisible
*Select the newly created object in the tree view
*Choose {{KEY|Part}}  →  {{KEY|Convert to solid}} from the top menu
*A new object will be created in the tree view, bearing "(Solid)" in its name, to indicate it is a solid
<br />
Since the created solid has no history and no editable features (like a simple copy in FreeCAD) you could delete all previous objects from the tree view. This would keep your file size small ...

==Links== 

* [[Export_to_STL_or_OBJ|Export to STL or OBJ]]
* [[Import_Export|Import Export]]

{{Userdocnavi{{#translation:}}}}
[[Category:File_Formats{{#translation:}}]]
{{clear}}