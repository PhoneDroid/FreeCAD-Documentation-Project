<languages/>

{{Docnav/ru
|[[Part_Common/ru|Пересечение]]
|[[Part_JoinEmbed/ru|Внедрить тонкостенные объекты]]
|[[Part_Workbench/ru|Деталь]]
|IconL=Part_Common.svg
|IconR=Part_JoinEmbed.svg
|IconC=Workbench_Part.svg
}}

{{GuiCommand/ru
|Name=Part JoinConnect
|Name/ru=Соединить тонкостенные объекты
|MenuLocation=Деталь → Соединить → Соединить объекты
|Workbenches=[[Part_Workbench/ru|Деталь]]
|Version=0.16
|SeeAlso=[[Part_JoinEmbed/ru|Внедрить тонкостенные объекты]], [[Part_JoinCutout/ru|Вырезать в тонкостенном объекте]], [[Part_Boolean/ru|Булевы операции]], [[Part_Thickness/ru|Толщина]]
}}

<span id="Description"></span>
== Описание == 

Инструмент [[Image:Part_JoinConnect.svg|24px]] '''Соединить тонкостенные объекты''' соединяет внутренности двух объектов со стенками (например, труб). Он также может соединять оболочки и кривые.

[[image:JoinFeatures_Connect.png|600px]]

<span id="Usage"></span>
== Применение == 

# Выберите объекты, которые необходимо соединить. Порядок выделения не важен, так как действие инструмента симметрично. Достаточно выделить по одному элементу геометрии каждого объекта (например, грани). Также можно выбрать группу (compound), содержащую все соединяемые фигуры, например [[Draft_OrthoArray/ru|Draft OrthoArray (Ортогональный массив Черновика)]].
# Есть несколько способов вызвать инструмент:
#* Нажмите кнопку {{Button|[[Image:Part_JoinConnect.svg|16px]] [[Part_JoinConnect|Соединить тонкостенные]]}}.
#* Выберите из меню {{MenuCommand|Деталь → Соединить → [[Image:Part_JoinConnect.svg|16px]] Соединить объекты}}.
# Создаётся параметрический объект Connect. Исходные объекты скрываются, а результат соединения отображается в [[3D_view/ru|3D виде]].

<span id="Properties"></span>
== Свойства == 

{{TitleProperty|Соединить}}

* {{PropertyData|Объекты (Objects)}}: Список объектов, которые необходимо соединить. Как правило, требуется не менее двух объектов, но подойдет и один, содержащий соединяемые фигуры. (начиная с FreeCAD v0.17.8053, это свойство не отображается в [[Property_editor/ru|Редакторе свойств]], и доступ к нему можно получить только через скрипты на [[#Scripting|Python]]).
* {{PropertyData|Улучшить (Refine)}}: Устанавливает, применять или нет операцию [[Part RefineShape/ru|Улучшить форму]] к конечной форме. Значение по умолчанию определяется флажком 'Автоматическое уточнение формы после выполнения булевой операции' в [[PartDesign_Preferences/ru|Настройках ПроектДетали (PartDesign)]].

<span id="Example"></span>
== Пример == 

# Создайте трубу, применив [[Part_Thickness/ru|толщину]] к [[Part_Cylinder/ru|цилиндру]]: <br />[[image:JoinFeatures_Example_step1.png|320px]]
# Создайте ещё одну трубу меньшего диаметра, и [[Placement/ru|разместите]] её так, чтобы она проникала сквозь одну стенку первой трубы: <br />[[image:JoinFeatures_Example_step2.png|320px]]
# Выберите первую и вторую трубу и нажмите кнопку «Соединить объекты» на раскрывающейся панели инструментов Объединить объекты... <br />[[image:JoinFeatures_Example_step3_Connect.png|320px]]
# Используйте какой либо инструмент для создания сечений. Например: ([[Std_ToggleClipPlane/ru|Плоскость сечения]], [[Arch_SectionPlane/ru|Архитектура Плоскость Сечения]], [[Arch_CutPlane/ru|Архитектура Секущая плоскость]]) чтобы показать внутренние детали. На рисунке ниже используется плоскость сечения верстака Архитектура (Arch).<br />[[image:JoinFeatures_Example_step4_Connect.png|320px]]

<span id="Algorithm"></span>
== Алгоритм ==

Алгоритмы, лежащие в основе инструментов Объединить, довольно просты, но их понимание важно для правильного использования инструментов. Алгоритм Соединить (Connect), в частности, немного сложнее других, но в целом достаточно думать о нём как о симметричном варианте [[Part_JoinEmbed/ru#Алгоритм|алгоритма Внедрить (Embed)]].

1. Каждый объект разбивается на части пересечениями с другими объектами. (см. [[Part_BooleanFragments/ru|Фрагменты булевой операции]]) 

2. Из частей предмета сохраняется только самая большая, все остальные выбрасываются.

3. К результату добавляются фрагменты пересечения, которые касаются как минимум двух объектов. Затем эти части соединяются вместе, чтобы получить результат команды Соединить (Connect).

<span id="Notes"></span>
== Примечания == 

* Если на шаге 1 каждый объект остается целым, результат Соединения будет эквивалентен [[Part_Fuse/ru|обычному объединению]] объектов.
* Теперь все предоставленные соединения разгруппировываются перед соединением. Это означает, что самопересекающиеся соединения, которые недопустимы для всех других булевых операций, допустимы для Соединения . (Это может быть изменено в будущем.)
* «Самый большой» фрагмент - это тот, который имеет наибольшую массу. То есть, для твёрдых тел сравниваются объёмы, для оболочек и граней - площади, и так далее.
* Начиная с FreeCAD v0.17.8053, и если версия OCC 6.9.0 и выше, Соединение выполняется почти так же быстро, как и все остальные булевы операции. В более ранних версиях Соединение работает примерно в 5 раз медленнее, чем обычные булевы операции, и работает только на твёрдых телах.

<span id="Scripting"></span>
== Написание скриптов ==

Инструмент Соединить можно использовать в [[Macros/ru|макросах]] и из консоли [[Python/ru|Python]] с помощью следующей функции:

 '''BOPTools.JoinFeatures.makeConnect(name)'''

* Создает пустую функцию Connect. Свойство 'Objects' должно быть назначено явно, после чего.
* Возвращает только что созданный объект.

Соединить также можно применять к обычным фигурам, без необходимости иметь объект документа, с помощью:

 '''Part.BOPTools.JoinAPI.connect(list_of_shapes, tolerance = 0.0)'''

Это может быть полезно для создания пользовательских функций на основе скриптов Python.

Пример:

{{code|code=
import Part
j = Part.BOPTools.JoinFeatures.makeConnect(name= 'Connect')
j.Objects = FreeCADGui.Selection.getSelection()
}}

Сам инструмент реализован на Python, смотрите {{FileName|/Mod/Part/BOPTools/JoinFeatures.py}} ([https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/Part/BOPTools/JoinFeatures.py ссылка Github]) в разделе, где установлен FreeCAD.


{{Docnav/ru
|[[Part_Common/ru|Пересечение]]
|[[Part_JoinEmbed/ru|Внедрить тонкостенные объекты]]
|[[Part_Workbench/ru|Деталь]]
|IconL=Part_Common.svg
|IconR=Part_JoinEmbed.svg
|IconC=Workbench_Part.svg
}}

{{Part_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}