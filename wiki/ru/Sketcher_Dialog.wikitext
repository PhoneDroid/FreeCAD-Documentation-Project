<languages/>

{{Docnav/ru
|[[Sketcher_EditSketch/ru|Редактировать эскиз]]
|[[Sketcher_MapSketch/ru|Прикрепить эскиз]]
|[[Sketcher_Workbench/ru|Скетчер]]
|IconL=Sketcher_EditSketch.svg‎‎
|IconR=Sketcher_MapSketch.svg
|IconC=Workbench_Sketcher.svg
}}

{{TOCright}}

<span id="Introduction"></span>
==Введение==

Пока эскиз редактируется, или, другими словами, пока эскиз находится в режиме редактирования, диалог Скетчера отображается на вкладке Задачи [[Combo_view/ru|Комбинированной панели]].

Чтобы перевести эскиз в режим редактирования, смотрите [[Image:Sketcher_EditSketch.svg|16px]] [[Sketcher_EditSketch/ru|Редактировать эскиз]]. Чтобы завершить режим редактирования, смотрите [[Image:Sketcher_LeaveSketch.svg|16px]] [[Sketcher_LeaveSketch/ru|Покинуть эскиз]].

Диалоговое окно Скетчера состоит из следующих разделов:

<span id="Tool_parameters"></span>
== Параметры инструмента ==

{{Version/ru|1.0}}

Некоторые инструменты добавляют раздел параметров в верхней части диалога. Доступные параметры и/или режимы зависят от инструмента.

[[Image:Sketcher_Dialog_Line_parameters.png]]
[[Image:Sketcher_Dialog_Line_parameters.png]]
{{Caption|Раздел параметров инструмента [[Sketcher_CreateLine/ru|Создать Отрезок]]}}

<span id="Solver_messages"></span>
==Сообщения о Состоянии эскиза (Решателя-Solver)==

Этот раздел информирует о состоянии эскиза.

Возможные сообщения:
* Эскиз не содержащий элементов
* <span style="color:red;">Чрезмерно ограничен: </span><span style="color:blue;text-decoration:underline;">(#, #, #)</span>
* <span style="color:red;">Неправильные ограничения: </span><span style="color:blue;text-decoration:underline;">(#, #, #)</span>
* <span style="color:red;">Дублирующие ограничения: </span><span style="color:blue;text-decoration:underline;">(#, #, #)</span>
* <span style="color:blue;">Частично избыточные ограничения: </span><span style="color:blue;text-decoration:underline;">(#, #, #)</span>
* <span style="color:red;">Решатель не сходится</span>
* Недостаточно ограничен: <span style="color:blue;text-decoration:underline;">n DoF(s)</span>
* <span style="color:green;">Полностью ограничен</span>

Если эскиз недостаточно ограничен, указывается количество степеней свободы (или DoFs). Щелчок по подчеркнутому тексту выделит элементы эскиза с недостаточными ограничениями. Смотри [[Image:Sketcher_SelectElementsWithDoFs.svg|16px]] [[Sketcher_SelectElementsWithDoFs/ru|Выбор недостаточно ограниченных элементов]].

Если эскиз имеет избыточные ограничения или чрезмерно ограничен, указываются индексы этих ограничений. Щелчок по подчеркнутому тексту выделит их. Смотри [[Image:Sketcher_SelectRedundantConstraints.svg|16px]] [[Sketcher_SelectRedundantConstraints/ru|Скетчер Выбор избыточных ограничений]] и [[Image:Sketcher_SelectConflictingConstraints.svg|16px]] [[Sketcher_SelectConflictingConstraints/ru|Скетчер Выбор конфликтующих ограничений]].

Неправильно указанные ограничения можно исправить с помощью инструмента [[Image:Sketcher_ValidateSketch.svg|16px]] [[Sketcher_ValidateSketch/ru|Проверить эскиз]].

Некоторые сообщения отображаются красным цветом не случайно: это предупреждения, которые не следует игнорировать. Они сигнализируют о проблемах, которые необходимо решить, поскольку они мешают работе Решателя. Сообщения не являются взаимоисключающими. Если их несколько, то отображается только первое в списке.

Чтобы изменить цвета, используемые в сообщениях, смотри [[Fine-tuning/ru#Constraint_label_colors|Тонкая настройка]].

Доступные параметры:

{| class="wikitable"
!style="width: 15%;"|Option
!style="width: 85%;"|Description
|-
| {{Button|[[Image:View-refresh.svg|x16px]] [[Image:Toolbar_flyout_arrow.svg|x16px]]}}
| Эта кнопка открывает меню:
* {{MenuCommand|Автообновление}}: Если флажок установлен, то после каждого действия с эскизом весь документ будет вычисляться заново. Не рекомендуется для слишком больших документов.
|}

<span id="Advanced_solver_control"></span>
==Расширенное управление решателем==

Этот раздел появится только в том случае, если вы отметите опцию '''Показывать раздел 'Расширенное управление решателем'''' в [[Sketcher_Preferences/ru|Настройках Скетчера]].

Обратите внимание, что большинство опций в этом разделе не имеют практического применения. Однако они могут помочь в тестировании и понимании работы решателей.

Доступные параметры:

{| class="wikitable mw-collapsible mw-collapsed"
!style="width: 15%;"|Параметр
!style="width: 85%;"|Описание
|-
| {{MenuCommand|Решатель по умолчанию}}
| Решатель, который используется для построения геометрии. '''[https://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm Метод Левенберга — Марквардта (англ.)]''' и '''DogLeg''' [https://en.wikipedia.org/wiki/Trust_region Доверительная область (англ.)] алгоритмы оптимизации. Решатель '''BFGS''' использует  [https://en.wikipedia.org/wiki/Broyden%E2%80%93Fletcher%E2%80%93Goldfarb%E2%80%93Shanno_algorithm Алгоритм Бройдена — Флетчера — Гольдфарба — Шанно (англ.)].
|-
| {{MenuCommand|DogLeg шаг Гаусса}}
| Эта настройка доступна только для решателя '''DogLeg'''. Это тип шага, используемый в алгоритме DogLeg.
|-
| {{MenuCommand|Максимальное количество итераций}}
| Если решателю потребуется больше итераций для сходимости к решению, он остановится и выдаст сообщение о неудаче.
|-
| {{MenuCommand|Множитель размера эскиза}}
|  Если флажок установлен, максимальное количество итераций будет умножено на количество параметров. Идея заключается в том, что для сходимости больших эскизов потребуется больше итераций.
|-
| {{MenuCommand|Конвергенция}}
| Порог для квадратичной ошибки. Эта ошибка используется для определения того, сходится решение или нет.
|-
| {{MenuCommand|Eps/Eps1/Tau}}
| Эти настройки доступны только для решателя '''Левенберга — Марквардта'''. Вы должны изменять что-то здесь только в том случае, если вы полностью понимаете, как работает решатель Левенберга-Марквардта.
|-
| {{MenuCommand|Tolg/Tolx/Tolf}}
| Эти настройки доступны только для решателя '''DogLeg'''. Вы должны менять что-то здесь, только если полностью понимаете, как работает решатель DogLeg.
|-
| {{MenuCommand|Алгоритм QR}}
| При диагностике вычисляется ранг матрицы, что позволяет провести дальнейший анализ системы ограничений на предмет наличия избыточных/конфликтующих ограничений. Ранговое раскрывающее разложение, используемое во FreeCAD, - это QR. Существует два алгоритма: '''Eigen Dense QR''' - плотная матрица QR с полным поворотом, это старый проверенный алгоритм, который работает очень хорошо, но он довольно медленный по мере роста системы. Алгоритм '''Eigen Sparse QR''' - это оптимизация для разрежённых матриц (с большим количеством нулей), которая обычно намного быстрее, так как в системах FreeCAD действительно много нулей.
|-
| {{MenuCommand|Порог возврата}}
| При выполнении QR значения ниже порога возврата считаются нулевыми.
|-
| {{MenuCommand|Решатель избыточности}}
| Решатель, который используется во время диагностики для определения того, является ли группа избыточной или конфликтующей.
|-
| {{MenuCommand|Максимальное количество итераций избыточности}}
| То же, что и {{MenuCommand|Максимальное количество итераций}}, но для решения избыточности.
|-
| {{MenuCommand|Множитель размера избыточности эскиза}}
| То же, что и {{MenuCommand|Множитель размера эскиза}}, but for the redundant solving.
|-
| {{MenuCommand|Избыточная конвергенция}} 
| То же, что и {{MenuCommand|Конвергенция}}, но для решения избыточности.
|-
| {{MenuCommand|R.Eps/R.Eps1/R.Tau}}
| То же, что и {{MenuCommand|Eps/Eps1/Tau}}, но для решения избыточности.
|-
| {{MenuCommand|R.Tolg/R.Tolx/R.Tolf}}
| То же, что и {{MenuCommand|Tolg/Tolx/Tolf}}, но для решения избыточности.
|-
| {{MenuCommand|Режим отладки консоли}}
| Параметр, определяющий степень подробности вывода в консоль.
|-
| {{Button|Решить}}
| Эта кнопка явно запускает решатель.
|-
| {{Button|Восстановить_настройки по умолчанию}}
| Эта кнопка восстанавливает настройки решателя по умолчанию.
|}

<span id="Constraints"></span>
==Ограничения==

В этом разделе перечислены ограничения в эскизе. Если снять флажок с ограничения в списке, оно будет скрыто в эскизе. Ограничения можно выбирать как в списке, так и в эскизе.

Ограничения также могут быть скрыты/показаны с помощью [[Image:Sketcher_SwitchVirtualSpace.svg|16px]] [[Sketcher_SwitchVirtualSpace/ru|Переключения виртуального пространства]].

Доступные параметры:

{| class="wikitable"
!style="width: 15%;"|Параметр
!style="width: 85%;"|Описание
|-
| {{Button|Фильтры[[Image:Toolbar_flyout_arrow.svg|x16px]]}}
| Если установлен флажок Фильтр, то выпадающий список фильтров определяет, какие ограничения будут показаны в списке:
* {{MenuCommand|Все}}: Все ограничения.
* {{MenuCommand|Геометрический}}: Геометрические ограничения.
* {{MenuCommand|С величиной}}: [[Sketcher_ToggleDrivingConstraint/ru|Основные]] размерные ограничения. Не работает должным образом: все размерные ограничения фильтруются.
* {{MenuCommand|С названием}}: Ограничения с именами. Не работает.
* {{MenuCommand|Ссылка}}: [[Sketcher_ToggleDrivingConstraint|Вспомогательные]] размерные ограничения. Не работает должным образом.
* {{MenuCommand|Выбранные ограничения}}: Ограничения, выбранные на эскизе.
* {{MenuCommand|Связанные ограничения}}: Ограничения, связанные с элементами, выбранными в эскизе.
|-
| {{Button|[[Image:Std_ToggleVisibility.svg|x16px]]}}
| Эта кнопка переключает видимость перечисленных ограничений в эскизе.
|-
| {{Button|[[Image:Sketcher_Settings.svg|x16px]] [[Image:Toolbar_flyout_arrow.svg|x16px]]}}
| Эта кнопка открывает меню:
* {{MenuCommand|Автоматические ограничения}}: Если флажок установлен, к новым элементам автоматически применяются некоторые геометрические ограничения.
* {{MenuCommand|Автоудаление избыточных ограничений}}: Если флажок установлен, новые ограничения, которые являются избыточными, автоматически удаляются.
* {{MenuCommand|Показать только отфильтрованные ограничения}}: Если флажок установлен, на эскизе будут показаны только указанные ограничения.
* {{MenuCommand|Расширенная информация (в виджете)}}: Если флажок установлен, в эту форму добавляется более подробная информация:
: {{Incode|[(GeoID1,PosID1),(GeoID2,PosID2),(GeoID3,PosID3)]}}
: GeoID - это нулевой индекс для не внешней геометрии. Ось X имеет GeoID -1, ось Y - GeoID -2. GeoID -3, -4 и т. д. используются для внешней геометрии.
: PosID может иметь следующие значения:
: 0 = ребро, 1 = начальная точка, 2 = конечная точка, 3 = средняя точка.
: Например, измерение от начала координат до центра окружности, которая является вторым не внешним элементом в эскизе, будет иметь такую расширенную информацию:
: {{Incode|[(-1,1),(1,3)]}}
* {{MenuCommand|Скрыть внутреннее выравнивание (в виджете)}}: Если флажок установлен, ограничения, связанные с внутренними выравниваниями, будут скрыты в списке. Инструмент [[Image:Sketcher_RestoreInternalAlignmentGeometry‎.svg|16px]] [[Sketcher_RestoreInternalAlignmentGeometry/ru|Показать/скрыть внутреннюю геометрию]] также может скрыть эти ограничения, но при этом будут скрыты и внутренние выравнивания в эскизе.
|-
| {{MenuCommand|Контекстное меню}}
| Щелчок правой кнопкой мыши на фоне списка или щелчок правой кнопкой мыши на ограничениях, выбранных в списке, вызывает контекстное меню. Меню содержит следующие пункты:
* {{MenuCommand|Изменить значение}}: Изменяет значение размерного ограничения. Работает только для одного ограничения. Вы также можете дважды щёлкнуть по ограничению в списке или дважды щёлкнуть по его значению в [[3D_view/ru|3D виде]].
* {{MenuCommand|Примечание/ограничение}}: Смотри [[Sketcher_ToggleDrivingConstraint/ru|Переключить ограничения в построительные/основные]].
* {{MenuCommand|Деактивировать}} или {{MenuCommand|Активировать}}: Смотри [[Sketcher_ToggleActiveConstraint/ru|Вкл/выкл ограничение]].
* {{MenuCommand|Показать ограничения}}: Аналогично установке флажка ограничения. Но, в отличие от флажка, работает более чем для одного ограничения.
* {{MenuCommand|Скрыть ограничения}}: Аналогично снятию флажка ограничения. То же.
* {{MenuCommand|Выбрать элементы}}: Смотри [[Sketcher_SelectElementsAssociatedWithConstraints/ru|Выделить связанную геометрию]].
* {{MenuCommand|Переименовать}}: Переименовать ограничение.
* {{MenuCommand|По центру эскиза}}: Центрирует 3D-вид вокруг выбранных ограничений.
* {{MenuCommand|Удалить}}: Удаляет выбранные ограничения. Также можно использовать клавишу {{KEY|Del}}.
* {{MenuCommand|Изменить имена ограничений}}: Меняет местами имена выбранных ограничений. Работает только в том случае, если выбраны два ограничения с заданными пользователем именами.
|}

<span id="Elements"></span>
==Элементы==

В этом разделе перечислены элементы эскиза. Если снять флажок с элемента в списке, он будет скрыт в эскизе. Элементы можно выбирать как в списке, так и в эскизе.

Доступные параметры:

{| class="wikitable"
!style="width: 15%;"|Option
!style="width: 85%;"|Description
|-
| {{Button|Filter [[Image:Toolbar_flyout_arrow.svg|x16px]]}}
| If the Filter checkbox is checked the Filter dropdown list controls which elements are listed:
* {{MenuCommand|Normal}}: Normal geometry: geometry that does not fall in the next three categories.
* {{MenuCommand|Construction}}: [[Sketcher_ToggleConstruction|Construction geometry]].
* {{MenuCommand|Internal}}: [[Sketcher_RestoreInternalAlignmentGeometry|Internal geometry]].
* {{MenuCommand|External}}: [[Sketcher_External|External geometry]].
* {{MenuCommand|All types}}: All geometry types. Specific types can be selected in the rest of the list:
** {{MenuCommand|Point}}
** {{MenuCommand|Line}}
** {{MenuCommand|Circle}}
** {{MenuCommand|Ellipse}}
** {{MenuCommand|Arc of circle}}
** {{MenuCommand|Arc of ellipse}}
** {{MenuCommand|Arc of hyperbola}}
** {{MenuCommand|Arc of parabola}}
** {{MenuCommand|B-Spline}}
|-
| {{Button|[[Image:Sketcher_Settings.svg|x16px]] [[Image:Toolbar_flyout_arrow.svg|x16px]]}}
| This button opens a menu:
* {{MenuCommand|Extended information}}: If checked, extended element information is provided.
: For non-external geometry the information in the list then changes from:
: {{Incode|<N>-<TYPE>}}
: to:
: {{Incode|<TYPE>(Edge<N>#ID<GeoID>#<VLX>)[-Construction]}}
: <TYPE>: Element type.
: <N>: A 1-based index that indicates the creation order of the element.
: <GeoID>: See under [[#Constraints|Constraints]].
: <VLX>: Element layer. See below.
|-
| [[Image:Sketcher_Element_Arc_Edge.svg|24px]] [[Image:Sketcher_Element_Arc_StartingPoint.svg|24px]] [[Image:Sketcher_Element_Arc_EndPoint.svg|24px]] [[Image:Sketcher_Element_Arc_MidPoint.svg|24px]]
| Each element in the list has 1 to 4 buttons organized in 4 columns. These select a specific part of the element. Only applicable buttons are shown.
* Button in column 1: Selects the edge of the element.
* Button in column 2: Selects the start point of the element.
* Button in column 3: Selects the end point of the element.
* Button in column 4: Selects the center point of the element.
Clicking the text has the same effect as clicking the first available button of the element.

[[Image:Sketcher_Dialog_Elements.png]]<br>
''In the image the edge of a line and the center of an arc have been selected.''<br>
''The line does not have a button in column 4 as it does not have a center.''
|-
| {{MenuCommand|Context menu}}
| Right-clicking the background of the list, or right-clicking elements selected in the list opens a context menu. The menu contains the Geometric [[Sketcher_Workbench#Sketcher_constraints|constraint tools]], the Dimensional constraint tools and the following additional options:
* {{MenuCommand|Toggle construction geometry}}: See [[Sketcher_ToggleConstruction|Sketcher ToggleConstruction]].
* {{MenuCommand|Select Constraints}}: See [[Sketcher_SelectConstraints|Sketcher SelectConstraints]].
* {{MenuCommand|Select Origin}}: See [[Sketcher_SelectOrigin|Sketcher SelectOrigin]].
* {{MenuCommand|Select Horizontal Axis}}: See [[Sketcher_SelectHorizontalAxis|Sketcher SelectHorizontalAxis]].
* {{MenuCommand|Select Vertical Axis}}: See [[Sketcher_SelectVerticalAxis|Sketcher SelectVerticalAxis]].
* {{MenuCommand|Layer}}: 3 layers are available:
** {{MenuCommand|Layer 0}}: Indicated as {{Incode|VL0}} in extended information. This is the default layer. Elements on this layer are displayed with a solid line type.
** {{MenuCommand|Layer 1}}: Indicated as {{Incode|VL1}} in extended information. Elements on this layer are displayed with a dashed line type.
** {{MenuCommand|Hidden}}: Indicated as {{Incode|VL2}} in extended information. Elements on this layer are hidden in the sketch.
: The rendering order of layers 0 and 1 is such that when picking coincident points in the [[3D_view|3D view]] elements on layer 0 are selected in favor of those on layer 1.
* {{MenuCommand|Delete}}: Deletes the selected elements. The {{KEY|Del}} key can also be used.
|}


{{Docnav/ru
|[[Sketcher_EditSketch/ru|Редактировать эскиз]]
|[[Sketcher_MapSketch/ru|Прикрепить эскиз]]
|[[Sketcher_Workbench/ru|Скетчер]]
|IconL=Sketcher_EditSketch.svg‎‎
|IconR=Sketcher_MapSketch.svg
|IconC=Workbench_Sketcher.svg
}}

{{Sketcher Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}