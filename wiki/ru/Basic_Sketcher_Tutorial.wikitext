<languages/>

{{TutorialInfo/ru
|Topic=Скетчер
|Level=Начинающий
|Time=60 минут
|Author=[http://freecadweb.org/wiki/index.php?title=User:Drei Drei] и vocx
|FCVersion=0.19
|Files=[https://forum.freecadweb.org/viewtopic.php?f=36&t=43594 Обновлённое руководство по базовому Скетчеру]
}}

<span id="Introduction"></span>
== Введение ==

Этот учебник был первоначально написан Drei, а переписал и проиллюстрировал его vocx. 

Это руководство призвано познакомить читателя с основным рабочим процессом [[Image:Workbench_Sketcher.svg|24px]] [[Sketcher Workbench/ru|Верстака Скетчер]].

[[Sketcher_Workbench/ru|Верстак Скетчер]] существует как отдельный модуль, поэтому его можно использовать для рисования общих двумерных (плоских) объектов. Однако в основном он используется в сочетании с [[File:Workbench_PartDesign.svg|24px]] [[PartDesign_Workbench/ru|Верстаком ПроектаяДеталь (PartDesign)]]. Замкнутый эскиз обычно используется для создания грани или профиля, который будет выдавлен в твёрдое [[PartDesign_Body/ru|тело]] с помощью такой операции, как {{Button|[[File:PartDesign_Pad.svg|16px]] [[PartDesign_Pad/ru|ПроектаяДеталь Выдавливание]]}}.

Читатель на практике изучит:
* Создание вспомогательной геометрии
* Создание реальной (основной) геометрии
* Применение геометрических ограничений
* Применение ограничений опорных точек
* Получение замкнутого профиля

Для более подробного описания Скетчера читайте [[Sketcher_Lecture/ru|Руководство по Скетчеру]].

[[File:00_Sk01_Sketcher_fully_constrained_final.png]]
{{Caption|Окончательный результат эскиз, с полностью ограниченной геометрией, включая конструктивную (вспомогательную) геометрию для поддержки.}}

<span id="Setup"></span>
== Настройка ==

1. Откройте FreeCAD, создайте новый пустой документ с помощью {{MenuCommand|Файл → [[File:Std_New.svg|16px]] [[Std_New/ru|Создать]]}}
:1.1. Перейдите на [[Sketcher_Workbench|верстак Скетчер]] из [[Std_Workbench|переключателя верстаков]] или через меню {{MenuCommand|[[Std_View_Menu|Вид]] → Верстак → Скетчер}}.

Некоторые действия, которые нужно запомнить:
* Нажмите правую кнопку мыши или один раз нажмите {{KEY|Esc}} на клавиатуре, чтобы отменить выбор активного инструмента в режиме редактирования.
* Чтобы выйти из режима редактирования эскиза, нажмите кнопку {{Button|Закрыть}} на [[task_panel/ru|панели задач]] или дважды нажмите {{KEY|Esc}} на клавиатуре.
* Чтобы снова войти в режим редактирования, дважды щёлкните по эскизу в [[tree_view/ru|дереве проекта]] или выберите его, а затем щёлкните по кнопке {{Button|[[File:Sketcher_EditSketch.svg|16px]] [[Sketcher_EditSketch/ru|Редактировать эскиз]]}}.

<span id="Create_a_sketch"></span>
== Создание эскиза ==

2. Щёлкните по {{Button|[[Image:Sketcher_NewSketch.svg|16px]] [[Sketcher_NewSketch/ru|Создать эскиз]]}}
:2.1. Выберите ориентацию эскиза, то есть одну из базовых плоскостей XY, XZ или YZ. Также выберите, нужна ли вам инвертированная ориентация и смещение от базовой плоскости.
:2.2. Мы будем использовать плоскость и параметры по умолчанию.
:2.3. Щёлкните {{Button|OK}}, чтобы начать построение эскиза.

Теперь мы находимся в режиме редактирования эскиза. В нём мы можем использовать большинство инструментов этого рабочего стола.

[[tree_view/ru|дерево проекта]] переключится на [[task_panel/ru|панель задач]]; в этом интерфейсе раскройте раздел {{MenuCommand|Edit controls (Редактирование элементов управления)}} и убедитесь, что опция {{MenuCommand|Автоматические ограничения}} включена. Можно изменить и другие параметры, в том числе размер видимой сетки и привязку к ней; в этом уроке мы не будем привязываться к сетке, а также скроем её. В других разделах [[task_panel/ru|панели задач]] вы также можете увидеть, какие геометрические элементы и ограничения были определены.

FreeCAD 0.19
</br>
[[File:01_Sk01_Sketcher_Task_panel.png|x400px]]

FreeCAD 1.0 добавлена кнопка с настройками
</br>
[[File:01_Sk01_Sketcher_Task_panel_ru.png|x400px]]

{{Caption|Верхняя часть [[task_panel/ru|панели задач]] скетчера.}}

<span id="Construction_geometry"></span>
== Вспомогательная геометрия ==

3. Вспомогательная геометрия используется для создания ''реальной'' геометрии. Реальная геометрия будет отображаться вне режима редактирования эскиза, а вспомогательная геометрия - только в режиме редактирования. Поэтому вы можете использовать столько вспомогательной геометрии, сколько нужно для создания реальных фигур.
:3.1. Щёлкните по кнопке {{Button|[[Image:Sketcher_ToggleConstruction.svg|16px]] [[Sketcher_ToggleConstruction/ru|Переключить вспомогательную геометрию]]}}. Теперь геометрические элементы будут рисоваться в режиме {{MenuCommand|вспомогательной геометрии}}.
:3.2. Нажмите кнопку {{Button|[[Image:Sketcher_Line.svg|16px]] [[Sketcher_CreateLine/ru|Создать отрезок]]}}.
:3.3. Приблизьтесь к '''началу''' эскиза, точка должна выделиться, а рядом с вашим курсором появится значок [[File:Constraint_PointOnPoint.svg|32px]] [[Sketcher_ConstrainCoincident/ru|совпадающего ограничения]].
:3.4. Щёлкните по точке и переместите указатель, чтобы начать рисовать новую линию от неё. Переместите указатель так, чтобы длина линии составляла около {{Value|30 мм}}. На этом этапе не нужно быть очень точным; позже мы установим правильные размеры.
:3.5. Повторите эту процедуру ещё четыре раза, чтобы расположить вспомогательные линии в виде звезды. Не беспокойтесь об их размере или расположении, просто растяните их в четырёх секторах.
:3.6. Теперь выйдите из режима вспомогательной геометрии, щёлкнув ещё раз на кнопку {{Button|[[File:Sketcher_ToggleConstruction.svg|16px]] [[Sketcher_ToggleConstruction/ru|Переключить вспомогательную геометрию]]}}.

{{Emphasis|Примечание:}} до этого момента инструмент [[Sketcher_CreateLine/ru|создания отрезков]] всё ещё активен. Это означает, что мы можем щёлкнуть в [[3D_view/ru|3D виде]] и нарисовать столько линий, сколько захотим. Если мы хотим выйти из этого инструмента, мы можем нажать правую кнопку мыши или один раз нажать {{KEY|Esc}} на клавиатуре. При этом указатель больше не будет создавать линии, он будет просто указателем, позволяющим нам выбирать объекты, которые мы только что создали. В этом режиме указателя мы можем выбирать и перетаскивать конечные точки каждой линии, чтобы настроить их размещение.

{{Emphasis|Примечание 2:}} не нажимайте {{KEY|Esc}} во второй раз, так как это приведёт к выходу из режима редактирования эскиза. Если вы это сделали, войдите в режим редактирования, дважды щёлкнув по эскизу в [[tree_view/ru|дереве проекта]].

Снова посмотрите на [[task_panel/ru|панель задач]]. В разделе {{MenuCommand|Состояние эскиза}} уже указано, что эскиз недостаточно ограничен, и упомянуто количество {{Emphasis|DoF (степеней свободы)}}.

Просмотрите разделы {{MenuCommand|Ограничения}} и {{MenuCommand|Элементы}}, чтобы увидеть новые списки ограничений и линий. Когда в ваших эскизах появится много элементов, их может быть трудно выбрать в [[3D_view/ru|3D виде]], поэтому вы можете использовать эти списки, чтобы точно выбрать нужный объект.

[[File:02_Sk01_Sketcher_construction.png|x400px]]

{{Caption|Вспомогательные линии, образующие форму звезды с центром в начале координат.}}

<span id="Real_geometry"></span>
== Основная геометрия ==

Реальная геометрия должна иметь замкнутую форму, если она используется в качестве профиля, который затем можно выдавливать с помощью таких инструментов, как {{Button|[[File:PartDesign_Pad.svg|16px]] [[PartDesign_Pad/ru|ПроектнаяДеталь Выдавливание]]}}.

Убедитесь, что вы не находитесь в режиме вспомогательной геометрии, щёлкните по кнопке {{Button|[[File:Sketcher_ToggleConstruction.svg|16px]] [[Sketcher_ToggleConstruction/ru|Переключить вспомогательную геометрию]]}}, если вы ещё не вышли из этого режима ранее.

<span id="Outer_arcs"></span>
=== Внешние дуги ===

4. Создайте круг.
:4.1. Нажмите кнопку {{Button|[[File:Sketcher_Circle.svg|16px]] [[Sketcher_CreateCircle/ru|Создать круг по центру]]}}.
:4.2. Нажмите на «начало» эскиза, чтобы определить его центральную точку.
:4.3. Щёлкните в любом месте [[3D_view/ru|3D вида]], чтобы задать радиус окружности как расстояние от начала координат. Пусть это будет примерно {{Value|8 мм}}. Опять же, размер будет зафиксирован позже.

5. Создайте серию дуг.
:5.1. Нажмите на кнопку {{Button|[[File:Sketcher_Arc.svg|16px]] [[Sketcher_CreateArc/ru|Создать дугу от центра]]}}.
:5.2. Подведите к конечной точке одной из вспомогательной линий построения и щёлкните по ней. В результате центральная точка дуги окружности будет [[File:Constraint_PointOnPoint.svg|32px]] [[Sketcher_ConstrainCoincident/ru|совпадать]] с конечной точкой этой линии.
:5.3. Щёлкните один раз в [[3D_view/ru|3D виде]] в произвольном месте, чтобы задать одновременно радиус дуги и её первую конечную точку. Задайте приблизительный радиус {{Value|8 мм}}.
:5.4. Переместите указатель против часовой стрелки, чтобы обрисовать дугу, вогнутость которой направлена в начало эскиза. Нажмите, чтобы установить конечную точку дуги, определяя круговую дугу, которая приблизительно охватывает {{Value|180°}} или половину окружности.
:5.5. Повторите эти действия с каждой линией построения, чтобы на вершине каждой из них появилась круговая дуга. Мы будем называть их O-дугами, то есть дугами наружу.

[[File:03_Sk01_Sketcher_outer_arcs.png|x400px]]

{{Caption|Круговые дуги добавлены на конечные точки вспомогательных линий. А также центральный круг.}}

<span id="Inner_arcs"></span>
=== Внутренние дуги ===

6. Создайте дугу между каждой парой предыдущих O-дуг.
:6.1. По-прежнему с активным инструментом {{Button|[[File:Sketcher_Arc.svg|16px]] [[Sketcher_CreateArc/ru|Создать дугу]]}}, щёлкните где-нибудь между двумя O-дугами, но дальше от начала эскиза, чтобы задать центральную точку новой дуги.
:6.2. Щёлкните вблизи конечной точки одной O-дуги и переместите указатель, чтобы провести другую дугу, заканчивающуюся вблизи конечной точки другой O-дуги, как будто вы пытаетесь соединить конечные точки. На этот раз вогнутость должна быть направлена в сторону от начала координат.
:6.3. Повторите эти шаги, чтобы между каждой парой O-дуг появилась новая дуга. Мы будем называть их I-дугами для внутренних дуг.

Итак, кривизна O-дуги должна быть направлена наружу, а её вогнутость - к началу эскиза; кривизна I-дуги должна быть направлена внутрь, а её вогнутость - в сторону от того же начала.

[[File:04_Sk01_Sketcher_inner_arcs.png|x400px]]

{{Caption|Круговые дуги, добавленные между первым набором размещённых дуг.}}

<span id="Constraints"></span>
=== Ограничения ===

Ещё раз взгляните на [[task_panel/ru|панель задач]]. Благодаря новым геометрическим элементам, которые мы нарисовали, раздел {{MenuCommand|Состояние эскиза}} показывает ещё больше {{Emphasis|степеней свободы}}. {{Emphasis|Степень свободы}} (DOF) указывает на возможное перемещение одного элемента. Например, точку можно перемещать как в горизонтальном, так и в вертикальном направлениях, поэтому у неё две степени свободы. Линия определяется двумя точками, поэтому в общей сложности у неё четыре степени свободы. Если мы зафиксируем одну из этих точек, то у всей системы останется только две степени свободы; если мы дополнительно зафиксируем горизонтальное движение оставшейся точки, то у нас останется только одна степень свободы; а если мы также зафиксируем вертикальное движение этой точки, то последняя степень свободы исчезнет, и линия уже не сможет сдвинуться со своего места.

До сих пор, когда мы рисовали линии и кривые, программа добавляла автоматические ограничения, которые удерживали линии привязанными к началу координат, а O-дуги - к вспомогательным линиям. Но мы не добавляли других явных ограничений, поэтому геометрические фигуры можно перемещать в разных направлениях. '''Ограничения - это "правила', которые говорят нам, при каких условиях геометрический объект может двигаться и на сколько.''' Они используются для устранения степеней свободы, чтобы эскиз имел стабильную форму. Если мы устраним все степени свободы, то эскиз будет {{Emphasis|полностью ограничен}} и будет иметь фиксированную форму, то есть его точки не смогут двигаться вообще. В целом, рекомендуется полностью ограничивать эскизы, так как это приводит к созданию стабильных моделей.

Существует два основных типа ограничений:
* {{Emphasis|Геометрические ограничения}} определяют характеристики фигур без указания точных размеров, например, горизонтальность, вертикальность, параллельность, перпендикулярность и касательность.
* {{Emphasis|Ограничения данных}} задают характеристики фигур, указывая размеры, например, числовую длину или угол.

<span id="Geometric_constraints"></span>
== Геометрические ограничения ==

<span id="Equal_length_and_radius"></span>
=== Равные длина и радиус ===

7. Геометрически ограничьте линии и дуги.
:7.1 Выберите все пять вспомогательных линий. Чтобы выбрать элемент, достаточно щёлкнуть один раз.
:7.2. Нажмите кнопку {{Button|[[File:Constraint_EqualLength.svg|16px]] [[Sketcher_ConstrainEqual/ru|Равная длина (Ограничение эквивалентностью)]]}}.
:{{Emphasis|Примечание:}} это создаёт только четыре ограничения. Ограничения связаны цепочкой, первый отрезок имеет ту же длину, что и второй, который имеет ту же длину, что и третий, который снова имеет ту же длину, что и четвёртый, который имеет ту же длину, что и пятый. Таким образом, в данном случае длины первого и пятого одинаковы.

:7.3. Выберите все пять O-дуг, расположенных на конечных точках вспомогательных линий.
:7.4. Нажмите кнопку {{Button|[[File:Constraint_EqualLength.svg|16px]] [[Sketcher_ConstrainEqual/ru|Равная длина]]}}.
:7.5. Повторите со всеми I-дугами, теми, которые находятся между O-дугами.
:{{Emphasis|Примечание:}} снова ограничения связаны цепочкой. Поэтому все O-дуги будут иметь одинаковый радиус, и все I-дуги будут иметь одинаковый радиус. На данный момент конкретное значение этих размеров не определено. Вы можете использовать указатель для перетаскивания точки и посмотреть, как обновляется эскиз при соблюдении установленных ограничений.

:7.6. Выберите вспомогательную линию, которая находится ближе всего к вертикальной оси.
:7.7. Нажмите кнопку {{Button|[[File:Constraint_Vertical.svg|16px]] [[‎Sketcher_ConstrainVertical/ru|Вертикально]]}} (опционально). Если вы проводили линию построения вниз по оси Y, то автоматически [[File:Constraint_PointOnObject.svg|32px]] [[Sketcher_ConstrainPointOnObject/ru|Ограничение точки на объекте]] уже было установлено, сохраняя линию построения вертикальной. В этом случае никакого дополнительного [[File:Constraint_Vertical.svg|32px]] [[‎Sketcher_ConstrainVertical/ru|Вертикального ограничения]] не требуется.

{{Emphasis|Примечание:}} при добавлении ограничений возле геометрии в [[3D_view/ru|3D виде]] появляются символы, указывающие на тип ограничения. Если эти символы мешают вам, вы можете скрыть их, сняв флажок с ограничения в [[task_panel/ru|панели задач]]. Также обратите внимание, что количество степеней свободы уменьшается после добавления каждого ограничения.

{{Emphasis|Примечание 2:}} Если вы хотите временно отключить ограничение, вы можете выбрать его и нажать кнопку {{Button|[[File:Sketcher_ToggleActiveConstraint.svg|16px]] [[Sketcher_ToggleActiveConstraint/ru|Вкл/выкл ограничение]]}}. Когда вы захотите применить его снова, нажмите ту же кнопку.

[[File:05a_Sk01_Sketcher_equality_constraints_lines.png|x400px]] [[File:05b_Sk01_Sketcher_equality_constraints_O-arcs.png|x400px]]

[[File:05c_Sk01_Sketcher_equality_constraints_I-arcs.png|x400px]]

{{Caption|Эскиз с ограничениями равенства, наложенными на вспомогатеьные линии и на два набора дуг.}}

<span id="Tangency"></span>
=== Касательная ===

8. Примените касательную к дугам.
:8.1. Выберите одну конечную точку О-дуги, а затем ближайшую конечную точку соседней I-дуги.
:8.2. Нажмите кнопку {{Button|[[File:Constraint_Tangent.svg|16px]] [[Sketcher_ConstrainTangent/ru|Касательная]]}}. Благодаря этому две соседние дуги плавно соединяются в своих конечных точках.
:8.3. Повторите для всех конечных точек O-дуги и I-дуги, чтобы получить замкнутый профиль.

{{Emphasis|Примечание:}} Частое применение касательного ограничения приводит к перемещению геометрии, чтобы создать плавное соединение. Возможно, вам придется использовать указатель, чтобы немного изменить положение точек перед применением следующего касательного ограничения. Попробуйте расположить конечные точки таким образом, чтобы две дуги не находились слишком далеко друг от друга, и их можно было бы соединить короткой, а не длинной линией.

На этом этапе мы создали замкнутый профиль, поскольку все дуги были связаны вместе. Теперь мы можем задать ограничения по точкам привязки, чтобы зафиксировать форму эскиза. Пока размеры линий и дуг остаются нефиксированными, мы можем перетаскивать точки эскиза и наблюдать, как меняется весь эскиз.

[[File:06_Sk01_Sketcher_tangency_constraints.png|x400px]]

{{Caption|Эскиз с касательными ограничениями, наложенными на дуги, которые замыкают форму.}}

<span id="Datum_constraints"></span>
== Ограничения данных ==

Эти ограничения задают числовые расстояния между двумя точками и углы между двумя прямыми.

<span id="Distances_and_angles"></span>
=== Расстояния и углы ===

9. Adjust the size of the construction lines.
:9.1. Select the vertically constrained construction line.
:9.2. Press {{Button|[[File:Constraint_VerticalDistance.svg|16px]] [[Sketcher_ConstrainDistanceY|Vertical distance]]}}.
:9.3. Set the length to {{Value|30 mm}}. Because all construction lines are constrained to have the same length, all these lines adjust their sizes at the same time.

10. Adjust the angle between the construction lines.
:10.1. Select the vertical construction line and the construction line closest to it.
:10.2. Press {{Button|[[File:Constraint_InternalAngle.svg|16px]] [[Sketcher_ConstrainAngle|Angle]]}}.
:10.3. Set the angle to {{Value|72°}}.
:10.4. Repeat the same procedure for each pair of construction lines, and use the same angle.
:{{Emphasis|Note:}} at this stage, the sketch may have very few degrees of freedom left, meaning that its shape cannot be changed too much. If you attempt to add more constraints, these may cause a conflict with the previously added constraints. If this is the case, do not add these constraints, and proceed with the next steps.

[[File:07a_Sk01_Sketcher_length_constraint.png|x400px]] [[File:07b_Sk01_Sketcher_angle_constraint.png|x400px]]

{{Caption|Sketch with length constraint applied to one vertical construction line (left), and angle constraints to three pairs of construction lines (right).}}

=== Radius ===

11. Adjust the size of the arcs.
:11.1. Select one of the O-arcs, centered on the endpoint of a construction line.
:11.2. Press {{Button|[[File:Constraint_Radius.svg|16px]] [[Sketcher_ConstrainRadius|Radius]]}}.
:11.3. Set the radius to {{Value|8 mm}}. Because all O-arcs are constrained to have the same radius, all these arcs adjust their sizes at the same time.
:11.4. Select one of the I-arcs, between two O-arcs.
:11.5. Press {{Button|[[File:Constraint_Radius.svg|16px]] [[Sketcher_ConstrainRadius|Radius]]}}.
:11.6. Set the radius to {{Value|11 mm}}. Because all I-arcs are constrained to have the same radius, all these arcs adjust their sizes at the same time.

[[File:08a_Sk01_Sketcher_radius_1_constraint.png|x400px]] [[File:08b_Sk01_Sketcher_radius_2_constraint.png|x400px]]

{{Caption|Sketch with radius constraints applied to the outwards arcs (left), and inwards arcs (right).}}

:11.7. Finally, select the circle in the center of the sketch, press {{Button|[[File:Constraint_Radius.svg|16px]] [[Sketcher_ConstrainRadius|Radius]]}}, and set the value to {{Value|8 mm}}.

We should end up with a fully constrained sketch. It can be confirmed by noticing the change in color of the real geometry, and by the message that is shown in the [[task_panel|task panel]].

[[File:09_Sk01_Sketcher_fully_constrained.png|x400px]]

{{Caption|Sketch with all geometrical and datum constraints applied.}}

== Extrusion ==

12. Now that we have a fully constrained sketch, it can be used to create a solid body.
:12.1. Exit the sketch edit mode by pressing the {{Button|Close}} button, or pressing {{KEY|Esc}} twice. The sketch should appear in the [[tree_view|tree view]] and the [[3D_view|3D view]].
:12.2. Switch to the [[PartDesign_Workbench|PartDesign Workbench]].
:12.3. With the sketch selected in the [[tree_view|tree view]], press {{Button|[[File:PartDesign_Body.svg|16px]] [[PartDesign_Body|PartDesign Body]]}}, choose the default XY-plane, and press {{Button|OK}}. The sketch should appear now inside the Body.
:12.4. Select the sketch, and then press {{Button|[[File:PartDesign_Pad.svg|16px]] [[PartDesign_Pad|PartDesign Pad]]}}, choose the default options, and press {{Button|OK}} to create a solid extrusion.

[[File:09b_Sk01_Sketcher_fully_constrained_clean.png|x400px]] [[File:10_Sk01_Sketcher_solid_extrusion.png|x400px]] 

{{Caption|Left: fully constrained sketch with only the most important constraints showing. Right: solid extrusion produced with [[PartDesign_Pad|PartDesign Pad]].}}

== Additional information ==

For a more in depth description of the sketcher, visit the [[Sketcher_Workbench|Sketcher Workbench]] documentation and also read the [[Sketcher_Lecture|Sketcher Lecture]].

Constraining a sketch can be done in many different ways. In general, it is recommended to use geometrical constraints first, and minimize the number of datum constraints, as this simplifies the task of the internal constraint solver. To investigate this, repeat this example, now adding the constraints in different order.
* First constrain the construction lines before drawing the arcs.
* Or constrain the size of the arcs before making them tangent.
* Or set the angle of the construction lines before adding more elements.
* Try using other construction geometry.

{{Sketcher Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}