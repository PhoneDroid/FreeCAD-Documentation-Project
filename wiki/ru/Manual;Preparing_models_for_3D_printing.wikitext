<languages/>

{{Docnav/ru
|[[Manual:Modeling_for_product_design/ru|Моделирование для проектирования продукта]]
|[[Manual:Generating_2D_drawings/ru|Создание двумерных чертежей]]
|[[Manual:Introduction/ru|Руководство: Начало]]
|IconC=Crystal_Clear_manual.png
}}

{{Manual:TOC}}

Одной из основных целей FreeCAD является проектирование объектов, которые могут быть превращены в реальные физические изделия. Этими проектами можно делиться с другими людьми для производства или, что становится все более распространенным, экспортировать их непосредственно в [https://en.wikipedia.org/wiki/3D_printing 3D-принтеры] или [https://en.wikipedia.org/wiki/Milling_%28machining%29 ЧПУ станки] для автоматизированного производства. С помощью FreeCAD вы можете создавать точные, детальные модели, готовые к различным методам производства. В этой главе вы узнаете, как подготовить модели для этих станков и обеспечить их соответствие необходимым спецификациям для успешного производства, независимо от того, работаете ли вы с командой или занимаетесь всем процессом самостоятельно.

Если вы были внимательны при моделировании, то большинство проблем, связанных с 3D-печатью модели, должны быть сведены к минимуму. Основные аспекты, на которых следует сосредоточиться, включают:

* '''Обеспечение сплошности объектов''': Как и реальные объекты, ваши 3D-модели должны быть сплошными. FreeCAD, особенно верстак ПроектнаяДеталь, помогает вам убедиться, что ваши модели остаются твёрдыми на протяжении всего процесса проектирования. Программа уведомит вас, если какая-либо операция нарушит целостность объекта. Кроме того, верстак Деталь предлагает инструмент [[Image:Part_CheckGeometry.svg|16px]] [[Part_CheckGeometry/ru|Проверки Геометрии]], который позволяет выявить потенциальные дефекты или проблемы, которые могут помешать процессу 3D-печати.

* '''Подтверждение точности размеров''': Точность очень важна - то, что вы проектируете в FreeCAD, будет напрямую переводиться в реальные размеры. Миллиметр в FreeCAD - это миллиметр в физическом объекте, поэтому каждый размер должен быть тщательно продуман и проверен для обеспечения точности.

* '''Управление Деградацией (упрощением)''': Важно помнить, что ни один 3D-принтер или фрезерный станок с ЧПУ не может напрямую обрабатывать файлы FreeCAD. Эти машины используют G- код, машинный язык с различными диалектами в зависимости от станка или производителя. Процесс преобразования вашей модели в G-код часто может быть выполнен автоматически с помощью программного обеспечения слайсера, но у вас также есть возможность сделать это вручную для большего контроля. Однако при таком преобразовании неизбежна некоторая потеря детализации или качества, особенно при преобразовании модели в формат сетки для печати. Вы должны убедиться, что это ухудшение находится в допустимых пределах и не влияет на функциональность или внешний вид конечного объекта.

* '''Совместимость Форматов при Экспорте''': Для 3D-печати наиболее часто используется формат STL, но он по своей сути преобразует вашу модель в сетку треугольников, что может привести к некоторой потере детализации. Важно выбрать правильное разрешение при экспорте в STL, балансируя между сохранением деталей и размером файла. Аналогично, для обработки на станках с ЧПУ предпочтительнее такие форматы, как STEP или IGES, поскольку они лучше сохраняют исходную геометрическую целостность конструкции, чем STL. Выбор правильного формата гарантирует точность преобразования в G-код.

* '''Анализ и Калибровка Сетки''': Перед экспортом модели в слайсер или генератор траектории инструмента для ЧПУ рекомендуется провести анализ сетки с помощью [[Mesh_Workbench/ru|Верстака Сетки (Mesh)]] во FreeCAD, чтобы обнаружить неровности, рёбра, не совпадающие с поверхностью, или другие проблемы сетки, которые могут усложнить процесс производства. Кроме того, даже при наличии идеальной модели убедитесь, что ваш 3D-принтер или станок с ЧПУ правильно откалиброван (например, для выравнивания станины, настройки шагового двигателя или конфигурации экструдера), чтобы избежать проблем с качеством конечного продукта.

В следующих разделах мы будем исходить из того, что вы уже позаботились о создании твёрдых моделей с правильными размерами. Теперь мы переключимся на управление процессом преобразования в G-код, гарантируя, что ваша модель сохранит необходимое качество для 3D-печати или обработки на ЧПУ. Рассмотрев эти вопросы, вы будете лучше подготовлены к созданию успешных физических объектов непосредственно из моделей FreeCAD.

<span id="Exporting_to_slicers"></span>
=== Экспорт в слайсеры ===

Наиболее распространённая технология подготовки 3D-модели к печати заключается в экспорте 3D-объекта из FreeCAD в специализированное программное обеспечение, известное как слайсер. Слайсер генерирует G-код, нарезая модель на тонкие слои, по которым 3D-принтер будет создавать объект слой за слоем. Поскольку многие 3D-принтеры - особенно домашние или любительские модели - имеют уникальную конфигурацию, программы для нарезки предоставляют широкий спектр дополнительных настроек. Эти настройки позволяют настраивать ключевые параметры, такие как высота слоя, скорость печати, плотность заполнения и опорные конструкции, обеспечивая соответствие G-кода особенностям и возможностям вашего принтера.

Многие слайсеры также предлагают функции моделирования и проверки печати, которые неоценимы для предварительного просмотра процесса печати. Вы можете визуализировать траекторию движения инструмента для каждого слоя, что помогает обнаружить потенциальные проблемы, такие как выступы, для которых могут потребоваться опоры, или области, где охлаждение может быть недостаточным. Такая проверка перед печатью гарантирует, что ваша модель подготовлена должным образом до начала печати, что позволяет избежать неудачных результатов или напрасной траты материала.

Слайсеры часто содержат дополнительные сведения, такие как оценка времени печати, расхода материалов и стоимости в зависимости от используемого филамента или смолы. Это позволяет принимать взвешенные решения о процессе печати и корректировать настройки для повышения эффективности или экономии материалов. Хотя более глубокие тонкости 3D-печати, такие как калибровка станка, выбор материала и постобработка, выходят за рамки данного руководства, мы сосредоточимся на том, как правильно экспортировать модель из FreeCAD и использовать программы-слайсеры для обеспечения правильного вывода и оптимизации для вашего конкретного принтера.

<span id="Converting_objects_to_meshes"></span>
=== Преобразование объектов в сетки ===

Ни один из доступных на данный момент слайсеров не может напрямую принимать твёрдотельную геометрию, созданную во FreeCAD. Такие слайсеры, как Cura и PrusaSlicer, работают с [https://en.wikipedia.org/wiki/Polygon_mesh сетчатыми] форматами, такими как STL, OBJ или 3MF, которые представляют геометрию поверхности объекта с помощью сети треугольников. Поэтому, чтобы использовать модель, созданную во FreeCAD, её необходимо сначала преобразовать в формат сетки, который эти слайсеры смогут воспринимать.

Наиболее распространённым форматом для 3D-печати является STL. Одна из причин предпочтения STL - его простота: он представляет 3D-геометрию в виде сетки треугольников, не включая сложные детали, такие как цвета, материалы или текстуры. Такой минималистский подход обеспечивает лёгкость файлов STL и их совместимость практически со всеми слайсерами и 3D-принтерами, что делает их отраслевым стандартом. Хотя OBJ и 3MF также поддерживаются, они могут содержать дополнительную информацию, такую как текстуры и материалы, которая не нужна для большинства задач 3D-печати и может усложнить процесс нарезки.

К счастью, преобразование твёрдотельного объекта в сетку в FreeCAD не вызывает затруднений, хотя преобразование сетки обратно в твёрдотельный объект - более сложная операция. В процессе преобразования необходимо помнить, что может произойти некоторое ухудшение качества модели, особенно при сведении сложной геометрии к простой треугольной сетке. Вы должны убедиться, что это ухудшение остаётся в допустимых пределах, чтобы сохранить точность напечатанного объекта.

В FreeCAD все задачи, связанные с сетками, решаются с помощью [[Mesh_Workbench/ru|Верстака Сетки (Mesh)]]. Этот верстак содержит инструменты не только для конвертации между объектами Деталь (Part) и Сетка (Mesh), но и для анализа и исправления сеток. Хотя работа с сеткой не является основной задачей FreeCAD, она становится необходимой при подготовке моделей к 3D-печати. Сетчатые объекты широко используются в других приложениях, а верстак Сетки позволяет полностью управлять и настраивать эти объекты, обеспечивая их готовность к следующему шагу в процессе печати.

* Давайте преобразуем деталь Лего, которую мы создали в прошлой главе, в сетку STL. Геометрию можно скачать в конце этой главы.
* Откройте файл FreeCAD, содержащий деталь Лего.
* Переключитесь на [[Mesh_Workbench/ru|верстак Сетки]]
* Выберите кирпичик Лего.
* Выберите меню '''Поолигональные Сетки → Создать полигональную сетку из фигуры'''.
* Откроется панель задач с несколькими опциями. Некоторые дополнительные алгоритмы построения сетки (Mefisto или Netgen) могут быть недоступны, в зависимости от того, как была собрана ваша версия FreeCAD. Алгоритм стандартного построения сетки будет присутствовать всегда. Он предлагает меньше возможностей, чем два вышеперечисленных, но его вполне достаточно для небольших объектов, которые укладываются в максимальный размер печати 3D-принтера.

[[File:FreeCAD_MeshLego_ru.png]]

* Выберите режим '''Стандартно''', а значение отклонения оставьте по умолчанию - 0,10. Нажмите '''OK'''.
* Будет создан сетчатый объект, расположенный точно поверх нашего твёрдотельного объекта. Скройте твёрдотельный объект или переместите один из объектов в сторону, чтобы можно было сравнить оба.
* Измените свойство '''Вид → Стиль рисования''' нового сетчатого объекта на '''Плоские линии''', чтобы увидеть, как произошла процедура триангуляции.
* Если вы недовольны и считаете, что результат получился слишком грубым, можно повторить операцию, уменьшив значение отклонения. В примере ниже для левой сетки использовано значение по умолчанию '''0.10''', а для правой - '''0.01''':

[[Image:Exercise_meshing_02.jpg]]

Однако в большинстве случаев значения по умолчанию дают удовлетворительный результат.

* Теперь мы можем экспортировать нашу сетку в сетчатый формат файла, такой как [https://en.wikipedia.org/wiki/STL_%28file_format%29 STL], который в настоящее время является наиболее широко используемым форматом в 3D-печати, используя меню '''Файл → Экспортировать''' и выбрав формат файла STL.

В FreeCAD верстак Сетки предоставляет несколько алгоритмов для преобразования твёрдотельной модели в сетку, включая Стандартный, Мефисто, Нетген и Gmsh. Алгоритм Стандартный обычно используется для объектов малого и среднего размера, так как он обеспечивает баланс между скоростью и качеством сетки. При создании сетки важны два параметра: отклонение поверхности и угловое отклонение. Поверхностное отклонение определяет, насколько точно сетка повторяет исходную геометрию, при этом меньшие значения обеспечивают более мелкую и точную сетку, но потенциально приводят к увеличению размера файлов. Угловое отклонение определяет, насколько допустимо отклонение в зависимости от изменения углов модели, особенно для кривых и острых граней. Другие опции, такие как относительное отклонение поверхности, позволяют динамически регулировать точность в зависимости от масштаба модели, а такие функции, как применение цвета граней или определение сегментов сетки по цвету, полезны для расширенной визуализации или группировки различных областей модели. После создания сетки её можно экспортировать в такие форматы, как STL, OBJ или 3MF, которые необходимы для подготовки моделей к 3D-печати. Качество сетки имеет решающее значение для правильного распознавания модели 3D-принтерами, поэтому выбор правильного алгоритма построения сетки и настройки отклонений могут существенно повлиять на конечный результат печати.

<span id="Using_PrusaSlicer"></span>
=== Использование PrusaSlicer ===

[https://github.com/prusa3d/prusaslicer/releases PrusaSlicer] - это приложение, которое конвертирует объекты STL, STEP, OBJ и 3MF в G-код, который можно напрямую отправлять на 3D-принтеры. Как и FreeCAD, оно бесплатное, с открытым исходным кодом и доступно для Windows, Mac OS и Linux. Хотя PrusaSlicer разработан компанией Prusa Research и оптимизирован для 3D-принтеров Prusa, его можно использовать практически с любым 3D-принтером, что делает его универсальным для широкого спектра оборудования. PrusaSlicer основан на Slic3r, оригинальном программном обеспечении для создания слайсеров, но со значительными улучшениями и более частыми обновлениями. Slic3r больше не обновляется, а PrusaSlicer продолжает развиваться, добавляя новые функции, такие как адаптивная высота слоёв, древовидные поддержки и улучшенные стратегии печати.

Правильная настройка слайсера для 3D-печати - сложный процесс, требующий хорошего понимания возможностей вашего 3D-принтера. Поскольку генерация G-кода без этих знаний может привести к тому, что файл не будет хорошо работать на других принтерах, PrusaSlicer всё же предоставляет отличный способ проверить, правильно ли отформатирован и пригоден для печати ваш STL-файл. Функции моделирования в слайсере позволяют просматривать траектории G-кода и проверять возможные проблемы печати до начала фактической печати.

Это наш экспортированный STL-файл, открытый в PrusaSlicer. При нажатии на кнопку ''slice'' программа делит вашу модель на слои, генерирует траектории инструментов для 3D-принтера и применяет необходимые настройки скорости и температуры. Программа рассчитывает заполнение, опорные конструкции и периметр, а затем создает G-код, который содержит подробные инструкции для принтера. Вы можете просмотреть нарезанную модель слой за слоем, проверить расчетное время печати и расход материала, а также сохранить или отправить G-код на принтер для фактического процесса печати.

[[File:FreeCAD_PrusaSlicer_ru.png]]

Помимо PrusaSlicer, для 3D-печати существует ещё несколько программ-слайсеров. [https://ultimaker.com/fr/software/ultimaker-cura/ Cura], разработанная компанией Ultimaker, является одним из самых популярных слайсеров с открытым исходным кодом и поддерживает широкий спектр принтеров с широкими возможностями настройки. [https://www.simplify3d.com/ Simplify3D] - платный слайсер, известный своими расширенными возможностями и эффективной генерацией траектории инструмента. [https://www.matterhackers.com/store/l/mattercontrol/sk/MKZGTDW6 MatterControl] - слайсер с открытым исходным кодом, включающий также базовые инструменты САПР, а также [https://www.raise3d.com/fr/ideamaker/ IdeaMaker] с удобным интерфейсом и адаптивной высотой слоёв, разработанный компанией Raise3D. Наконец, [https://github.com/SoftFever/OrcaSlicer OrcaSlicer], более новый вариант с открытым исходным кодом, основанный на PrusaSlicer и Bambu Studio, предоставляет дополнительные возможности для различных принтеров. Каждый слайсер обладает уникальными преимуществами, поэтому выбор оптимального варианта зависит от конкретных моделей принтеров и требований к печати.

<span id="Generating_G-code"></span>
=== Генерация G-кода ===

[[Image:Workbench_CAM.svg|16px]] [[CAM_Workbench/ru|Верстак CAM (ЧПУ)]] в FreeCAD предоставляет расширенные возможности для генерации G-кода непосредственно для станков с ЧПУ, обеспечивая большую гибкость и контроль по сравнению с автоматическими инструментами для нарезки, например, используемыми для 3D-печати. В то время как слайсеры для 3D-печати могут автоматически преобразовывать модель в G-код с минимальными затратами, для фрезерования с ЧПУ требуется гораздо большее участие пользователя для обеспечения точного контроля над траекториями инструментов, скоростями, глубиной и другими параметрами обработки. Это делает верстак CAM (ЧПУ) незаменимым для задач, требующих точной настройки G-кода, особенно для фрезерной обработки с ЧПУ, где сложность станка и разнообразие операций (например, резка, сверление и контурная обработка) требуют тщательного продумывания.

В верстаке ЧПУ генерация траекторий G-кода отлично настраивается. В нём есть инструменты для создания полных траекторий обработки для различных операций, или, наоборот, вы можете создавать частичные сегменты G-кода и собирать их в полноценную операцию фрезерования. Такой модульный подход позволяет настраивать каждый этап процесса обработки, оптимизируя траектории инструментов с учётом эффективности, типа материала и возможностей конкретного станка.

Процесс работы с ЧПУ действительно намного сложнее, чем 3D-печать, поскольку станки с ЧПУ используют разные инструменты и должны учитывать съем материала, геометрию инструмента и безопасные границы - всё это настраивается вручную. В FreeCAD создание простого КАМ-проекта требует определения траекторий инструментов, настройки глубины резания, выбора подходящих инструментов, настройки смещений, подач и скоростей. В отличие от программ-слайсеров, которые выполняют большую часть этих действий автоматически, в верстаке ЧПУ управление полностью находится в ваших руках, что делает его очень гибким, но и более сложным.

Хотя создание траекторий фрезерования с ЧПУ - слишком обширная тема для подробного рассмотрения здесь, мы продемонстрируем, как создать простой КАМ-проект в FreeCAD. Хотя мы не будем останавливаться на всех деталях реальной обработки с ЧПУ, это руководство познакомит вас с основными шагами, сделав акцент на требованиях к уровню ввода данных для обеспечения точности и эффективности результатов. Эта дополнительная сложность необходима для проектов с ЧПУ, где точность и настраиваемость имеют решающее значение для достижения желаемых результатов обработки.

* Загрузите файл, содержащий нашу деталь Лего, и переключитесь на [[Image:Workbench_CAM.svg|16px]] [[CAM_Workbench/ru|верстак CAM (ЧПУ)]].
* Нажмите на [[Image:CAM_Job.svg|16px]] [[CAM_Job/ru|Задание]] и выберите нашу деталь лего.
* Поскольку целью этого раздела не является подробное руководство по верстаку ЧПУ, мы будем использовать значения по умолчанию. Если вы хотите получить более подробное руководство, обратитесь к [[CAM Walkthrough for the Impatient/ru|Пошаговому руководству ЧПУ]]. Помните, что в верстаке ЧПУ вокруг вашего объекта автоматически создаётся технологическое тело, представляющее собой исходный материал, который будет подвергаться обработке. В данный момент этот исходный материал отстоит от объекта на 1 мм во всех направлениях.

[[File:FreeCAD CAM1.png]]

* Первым шагом будет удаление ненужного материала вокруг нашего объекта. На этом этапе мы начинаем с цельного блока исходного материала, и нам нужно вырезать из него кирпичик Лего. Этот процесс включает в себя определение траекторий инструментов, которые будут постепенно отсекать лишний материал, оставляя после себя желаемую форму Лего.

* На следующем изображении показана настройка верстака FreeCAD ЧПУ для обработки блока Лего. Дерево проекта включает операции твёрдотельного моделирования, такие как Выдавить (Pad), Карман (Pocket) и Линейный массив (LinearPattern), которые были использованы для придания формы детали. Создано задание, содержащее траектории инструментов в разделе Операции (Operations), которые определяют, как будет удаляться материал с заготовки. Для обработки выбирается инструмент по умолчанию, а Модель-Тело представляет собой 3D-деталь, над которой осуществляется работа. Эта настройка подготавливает объект к генерации G-кода для управления станком с ЧПУ.

[[File:FreeCAD CAMtree.png]]

* Прежде чем приступить к срезанию лишнего материала, давайте сделаем некоторые настройки используемого фрезерного инструмента. Хотя верстак ЧПУ позволяет задавать пользовательские инструменты, для простоты мы изменим инструмент по умолчанию. Это позволит оптимизировать настройки для нашего проекта без необходимости создавать новый инструмент с нуля.

* Щёлкните по тексту '''TC:Default Tool'''. Откроется окно '''Редактор контроллера инструмента (Tool Controller Editor)'''. Измените скорость подачи и скорость вращения шпинделя, как показано на рисунке. Скорость подачи для горизонтального и вертикального резания установлена на 2000 мм/мин, а скорость вращения шпинделя - на 2000 об/мин при прямом вращении. Эти настройки управляют перемещением и скоростью резания инструмента в процессе обработки.

[[File:FreeCAD toolController.png]]

* Дважды щёлкните на самом инструменте и измените его диаметр на 1 мм.
* Теперь мы готовы приступить к удалению лишнего материала с блока, постепенно вырезая геометрию Лего. В этом процессе будут задействованы заданные нами траектории инструментов, чтобы конечная форма соответствовала задуманному проекту.
* Нажмите на [[Image:CAM_Profile.svg|16px]] [[CAM_Profile/ru|Профиль (Profile)]]. Эта опция используется для срезания ненужного материала по периметру детали, эффективно формируя внешние границы для достижения общих размеров фигурки Лего. 
* Обычно вам не нужно менять ни одно из значений по умолчанию, кроме параметра '''Дополнительное смещение (Extra Offset)''', расположенного на вкладке Операции (Operation). Установите этот параметр на 1 мм, чтобы оставшийся объект правильно соответствовал границам Лего.
* После нажатия кнопки '''Применить (apply)''' вы должны увидеть зелёные линии вокруг объекта. Эти линии отображают путь, по которому будет двигаться наш режущий инструмент при резании исходного блока.

[[File:FreeCAD CAMProfile.png]]

* Следующим шагом будет создание 6 выступающих цилиндров на верхней части блока Лего.
* Выберите верхнюю грань и нажмите на [[Image:CAM_Pocket_Shape.svg|16px]] [[CAM_Pocket_Shape/ru|Форма кармана (Pocket Shape)]]. На вкладке '''Расширения (Extensions)''' включите Расширения (Extensions) и щёлкните по краю верхней грани (он должен быть автоматически добавлен в поле длины по умолчанию.
* Наконец, на вкладке '''Операция (Operation)''' введите -1,5 мм в поле Pass Extension box и измените опцию шаблона на ZigZagOffset.
* Нажмите '''применить (apply)''' и закройте вкладку.
* Аналогичным образом мы можем создать три цилиндра на нижней части детали Лего.
* Мы можем легко проследить за этапами фрезеровки объекта, используя [[Image:CAM_SimulatorGL.svg|16px]] [[CAM_SimulatorGL/ru|SimulatorGL (СимуляторGL)]].

'''Загрузки'''

* Созданный в этом упражнении файл STL: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/lego.stl
* Файл, созданный в этом упражнении: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/path.FCStd
* Файл G-кода, созданный в этом упражнении: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/lego.gcode

'''Читать далее'''

* [[Mesh_Workbench/ru|Верстак Сетки (Mesh)]]
* [https://ru.wikipedia.org/wiki/STL_(формат_файла) Формат файлов STL (рус.)][https://en.wikipedia.org/wiki/STL_%28file_format%29 (англ.)]
* [http://slic3r.org/ Slic3r]
* [https://ultimaker.com/en/products/cura-software Cura]
* [https://github.com/cblt2l/FreeCAD-CuraEngine-Plugin Верстак Cura]
* [[CAM_Workbench/ru|Верстак CAM (ЧПУ)]]
* [http://camotics.org/ Camotics]

<span id="Videos"></span>
== Видео ==

* [https://www.youtube.com/playlist?list=PL6Fiih6ItYsWCE20KtUJYpiDPrCA2rVpN Как использовать FreeCAD для 3D-печати | Использование ветки Realthunder] Видео плейлист от Maker Tales о том, как использовать FreeCAD для 3D-печати.


{{Docnav/ru
|[[Manual:Modeling_for_product_design/ru|Моделирование для проектирования продукта]]
|[[Manual:Generating_2D_drawings/ru|Создание двумерных чертежей]]
|[[Manual:Introduction/ru|Руководство: Начало]]
|IconC=Crystal_Clear_manual.png
}}

[[Category:CAM{{#translation:}}]]
[[Category:Mesh{{#translation:}}]]
[[Category:Tutorials{{#translation:}}]]